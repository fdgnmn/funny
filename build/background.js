var cached={};chrome.runtime.onConnect.addListener(function(e){"douban-movie"==e.name&&e.onMessage.addListener(function(s){if(cached[s.url])return void e.postMessage(cached[s.url]);var n=new XMLHttpRequest;n.onload=function(){if(200==n.status){var t=JSON.parse(n.responseText),a=t.list;if(a&&a[0]){s.neetLinks=[];for(var r=0;r<a.length;r++){var o=a[r].themes;if(o&&o[0]){var c=o[0].domainName,i=o[0].auxiliaryInfo,u=o[0].videoUrl;s.neetLinks.push([c,i,u])}}s.success=!0,e.postMessage(s),cached[s.url]=s}else s.success=!1,e.postMessage(s),cached[s.url]=s}},n.open("GET",s.url,!0),n.setRequestHeader("Content-type","text/html"),n.send()})});